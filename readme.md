Тестовое задание C#

Написать приложение для приведения выражения к канонической форме. Выражение может быть любого порядка и содержать любое кол-во переменных и скобок.

Выражение задано в следующей форме:

P1 + P2 + ... = ... + PN

где, P1..PN – слагаемые, которые выглядят как: 

ax^k

где a – вещественный коэффициент;
k – показатель степени, целое число;
x – переменная (каждое слагаемое может содержать несколько переменных).
 
Пример:
x^2 + 3.5xy + y = y^2 - xy + y

На выходе:
x^2 - y^2 + 4.5xy = 0

Приложение должно быть оформлено в виде ASP NET CORE сервиса, которое на вход принимает либо строку с выражением, либо файл. В файловом режиме, приложение обрабатывает файл и отдает результат в виде файлового стрима. Расчёты должны использовать все ресурсы системы (многопоточность).  В исходном файле содержится список выражений, разделенный символом новой строки.
